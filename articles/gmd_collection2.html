<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>GMD Collection • dlw</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GMD Collection">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dlw</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9006</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/gmd_collection2.html">GMD Collection</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/worldbank/dlw/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>GMD Collection</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/worldbank/dlw/blob/master/vignettes/gmd_collection2.Rmd" class="external-link"><code>vignettes/gmd_collection2.Rmd</code></a></small>
      <div class="d-none name"><code>gmd_collection2.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Global Monitoring Database (<a href="https://worldbankgroup.sharepoint.com/:u:/r/sites/WBPoverty/SitePages/PublishingPages/Global-Monitoring-Database-GMD-02062020-093339.aspx?csf=1&amp;web=1&amp;e=dVCBX4" class="external-link">GMD</a>)
is the World Bank’s central repository of harmonized, multitopic
household income and expenditure surveys. These surveys, collected by
national statistical offices, are compiled and processed by the Data for
Goals (D4G) team, with support from regional statistics teams in the
Poverty and Equity Global Practice. The Global Poverty &amp; Inequality
Data Team (GPID) in the Development Economics Data Group (DECDG) also
contributes historical and external data, including from the Luxembourg
Income Study (LIS).</p>
<p>The GMD harmonizes key variables to enable meaningful comparisons of
poverty and sociodemographic trends across countries and over time. Its
microdata underpin major World Bank initiatives, including the Poverty
and Inequality Platform (<a href="https://pip.worldbank.org/home" class="external-link">PIP</a>), the Multidimensional
Poverty Measure (WB MPM), the Global Database of Shared Prosperity
(GDSP), and the Poverty, Prosperity and Planet Reports.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::load_all(".")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/worldbank/dlw" class="external-link">dlw</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="gmd-server">GMD server<a class="anchor" aria-label="anchor" href="#gmd-server"></a>
</h2>
<p>The Datalibweb system is organized into several servers, each hosting
one or more <em>collections</em> of data. For example, the GMD
collection is hosted on the GMD server, which can be confusing since
both the collection and the server share the same name.</p>
<p>To explore the catalog of data available on a server, use
<code><a href="../reference/dlw_server_catalog.html">dlw_server_catalog()</a></code>. If you do not specify a server, the
default is <code>dlw_server_catalog(server = "GMD")</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ctl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dlw_server_catalog.html">dlw_server_catalog</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"GMD"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Pruning cache</span></span>
<span><span class="co">#&gt; ℹ saving ServerCatalog_GMD in .dlwevn</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">ctl</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "ServerAlias"    "Country"        "Year"           "Survey"        </span></span>
<span><span class="co">#&gt;  [5] "FilePath"       "Ext"            "FileSize"       "Timestamp"     </span></span>
<span><span class="co">#&gt;  [9] "Checksum"       "FileName"       "Country_code"   "Survey_year"   </span></span>
<span><span class="co">#&gt; [13] "Survey_acronym" "Vermast"        "Veralt"         "Collection"    </span></span>
<span><span class="co">#&gt; [17] "Module"         "ext"</span></span></code></pre></div>
<p>The catalog contains all the metadata required to download any
dataset from the GMD collection, provided you have the necessary access
rights. For example, let’s examine the data available for Paraguay in
2020 within the GPWG module:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Variables to display</span></span>
<span><span class="va">vars_to_see</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FileName"</span>, <span class="st">"Country_code"</span>, <span class="st">"Survey_year"</span>, <span class="st">"Survey_acronym"</span>, <span class="st">"Vermast"</span>, <span class="st">"Veralt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The dlw package fully imports data.table, so you can use its syntax directly</span></span>
<span><span class="va">ctl</span><span class="op">[</span><span class="va">Country_code</span> <span class="op">==</span> <span class="st">"PRY"</span> <span class="op">&amp;</span> <span class="va">Year</span> <span class="op">==</span> <span class="fl">2020</span> <span class="op">&amp;</span> <span class="va">Module</span> <span class="op">==</span> <span class="st">"GPWG"</span>, <span class="va">..vars_to_see</span><span class="op">]</span></span>
<span><span class="co">#&gt;                                 FileName Country_code Survey_year</span></span>
<span><span class="co">#&gt;                                   &lt;char&gt;       &lt;char&gt;      &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: PRY_2020_EPH_V01_M_V03_A_GMD_GPWG.dta          PRY        2020</span></span>
<span><span class="co">#&gt; 2: PRY_2020_EPH_V01_M_V02_A_GMD_GPWG.dta          PRY        2020</span></span>
<span><span class="co">#&gt; 3: PRY_2020_EPH_V01_M_V01_A_GMD_GPWG.dta          PRY        2020</span></span>
<span><span class="co">#&gt;    Survey_acronym Vermast Veralt</span></span>
<span><span class="co">#&gt;            &lt;char&gt;  &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:            EPH     V01    V03</span></span>
<span><span class="co">#&gt; 2:            EPH     V01    V02</span></span>
<span><span class="co">#&gt; 3:            EPH     V01    V01</span></span></code></pre></div>
<p>Notice that there are three different versions available for this
survey. To download a specific version, you must explicitly provide all
required arguments to the <code><a href="../reference/dlw_get_data.html">dlw_get_data()</a></code> function, which is
the main function for downloading data in the <a href="https://github.com/worldbank/dlw" class="external-link">dlw</a>
package. For example:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dlw_get_data.html">dlw_get_data</a></span><span class="op">(</span></span>
<span>  country_code <span class="op">=</span> <span class="st">"PRY"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2020L</span>,</span>
<span>  server <span class="op">=</span> <span class="st">"GMD"</span>,</span>
<span>  survey <span class="op">=</span> <span class="st">"EPH"</span>,</span>
<span>  module <span class="op">=</span> <span class="st">"GPWG"</span>,</span>
<span>  filename <span class="op">=</span> <span class="st">"PRY_2020_EPH_V01_M_V03_A_GMD_GPWG.dta"</span>,</span>
<span>  collection <span class="op">=</span> <span class="st">"GMD"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="downloading-data">Downloading data<a class="anchor" aria-label="anchor" href="#downloading-data"></a>
</h2>
<p>While specifying all these arguments is necessary, since the
Datalibweb API requires them, it can be tedious. To simplify this
process, the <code><a href="../reference/dlw_get_gmd.html">dlw_get_gmd()</a></code> function acts as a convenient
wrapper around <code><a href="../reference/dlw_get_data.html">dlw_get_data()</a></code>. With
<code><a href="../reference/dlw_get_gmd.html">dlw_get_gmd()</a></code>, you only need to provide the country code,
year, and module, and it will automatically download the most recent
version of the data for you.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pry20</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dlw_get_gmd.html">dlw_get_gmd</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"PRY"</span>, year <span class="op">=</span> <span class="fl">2020</span>, module <span class="op">=</span> <span class="st">"GPWG"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── dlw_get_data Calls ─────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Call 1:</span></span>
<span><span class="co">#&gt; dlw_get_data(</span></span>
<span><span class="co">#&gt;   country_code = "PRY",</span></span>
<span><span class="co">#&gt;   year = 2020L,</span></span>
<span><span class="co">#&gt;   server = "GMD",</span></span>
<span><span class="co">#&gt;   survey = "EPH",</span></span>
<span><span class="co">#&gt;   module = "GPWG",</span></span>
<span><span class="co">#&gt;   filename = "PRY_2020_EPH_V01_M_V03_A_GMD_GPWG.dta",</span></span>
<span><span class="co">#&gt;   collection = "GMD"</span></span>
<span><span class="co">#&gt; )</span></span>
<span><span class="co">#&gt; Creating new version '20250624T204252Z-93aa5'</span></span>
<span><span class="co">#&gt; Writing to pin ''PRY_2020_EPH_V01_M_V03_A_GMD_GPWG.qs''</span></span></code></pre></div>
<p>Notice that <code><a href="../reference/dlw_get_gmd.html">dlw_get_gmd()</a></code> prints the actual call to
<code><a href="../reference/dlw_get_data.html">dlw_get_data()</a></code> in the console for your reference and
verification.</p>
<div class="section level3">
<h3 id="all-versions">All versions<a class="anchor" aria-label="anchor" href="#all-versions"></a>
</h3>
<p>By default, <code><a href="../reference/dlw_get_gmd.html">dlw_get_gmd()</a></code> returns the most recent
version of the data for a particular year. However, if you set the
argument <code>latest_version = FALSE</code>, the function will instead
return a list of calls—one for each survey version available for that
year. This allows you to review and select the specific version you wish
to download.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">calls_pry20</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dlw_get_gmd.html">dlw_get_gmd</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"PRY"</span>, </span>
<span>                     year <span class="op">=</span> <span class="fl">2020</span>, </span>
<span>                     module <span class="op">=</span> <span class="st">"GPWG"</span>, </span>
<span>                     latest_version <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; → your arguments do not uniquely identify a dataset.</span></span>
<span><span class="co">#&gt; You need execute one of the following:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── dlw_get_data Calls ─────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Call 1:</span></span>
<span><span class="co">#&gt; dlw_get_data(</span></span>
<span><span class="co">#&gt;   country_code = "PRY",</span></span>
<span><span class="co">#&gt;   year = 2020L,</span></span>
<span><span class="co">#&gt;   server = "GMD",</span></span>
<span><span class="co">#&gt;   survey = "EPH",</span></span>
<span><span class="co">#&gt;   module = "GPWG",</span></span>
<span><span class="co">#&gt;   filename = "PRY_2020_EPH_V01_M_V03_A_GMD_GPWG.dta",</span></span>
<span><span class="co">#&gt;   collection = "GMD"</span></span>
<span><span class="co">#&gt; )</span></span>
<span><span class="co">#&gt; Call 2:</span></span>
<span><span class="co">#&gt; dlw_get_data(</span></span>
<span><span class="co">#&gt;   country_code = "PRY",</span></span>
<span><span class="co">#&gt;   year = 2020L,</span></span>
<span><span class="co">#&gt;   server = "GMD",</span></span>
<span><span class="co">#&gt;   survey = "EPH",</span></span>
<span><span class="co">#&gt;   module = "GPWG",</span></span>
<span><span class="co">#&gt;   filename = "PRY_2020_EPH_V01_M_V02_A_GMD_GPWG.dta",</span></span>
<span><span class="co">#&gt;   collection = "GMD"</span></span>
<span><span class="co">#&gt; )</span></span>
<span><span class="co">#&gt; Call 3:</span></span>
<span><span class="co">#&gt; dlw_get_data(</span></span>
<span><span class="co">#&gt;   country_code = "PRY",</span></span>
<span><span class="co">#&gt;   year = 2020L,</span></span>
<span><span class="co">#&gt;   server = "GMD",</span></span>
<span><span class="co">#&gt;   survey = "EPH",</span></span>
<span><span class="co">#&gt;   module = "GPWG",</span></span>
<span><span class="co">#&gt;   filename = "PRY_2020_EPH_V01_M_V01_A_GMD_GPWG.dta",</span></span>
<span><span class="co">#&gt;   collection = "GMD"</span></span>
<span><span class="co">#&gt; )</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="most-recent-year">Most recent year<a class="anchor" aria-label="anchor" href="#most-recent-year"></a>
</h3>
<p>If you do not specify the year, <code><a href="../reference/dlw_get_gmd.html">dlw_get_gmd()</a></code> will
return calls for all surveys available for the given country and module.
If you want to retrieve only the most recent year (which may differ by
country and module), set <code>latest_year = TRUE</code>. This will
ensure you get the latest available data for your selection.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pry23</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dlw_get_gmd.html">dlw_get_gmd</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"PRY"</span>, </span>
<span>                     module <span class="op">=</span> <span class="st">"GPWG"</span>, </span>
<span>                     latest_year <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── dlw_get_data Calls ─────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Call 1:</span></span>
<span><span class="co">#&gt; dlw_get_data(</span></span>
<span><span class="co">#&gt;   country_code = "PRY",</span></span>
<span><span class="co">#&gt;   year = 2023L,</span></span>
<span><span class="co">#&gt;   server = "GMD",</span></span>
<span><span class="co">#&gt;   survey = "EPHC",</span></span>
<span><span class="co">#&gt;   module = "GPWG",</span></span>
<span><span class="co">#&gt;   filename = "PRY_2023_EPHC_V01_M_V01_A_GMD_GPWG.dta",</span></span>
<span><span class="co">#&gt;   collection = "GMD"</span></span>
<span><span class="co">#&gt; )</span></span>
<span><span class="co">#&gt; Creating new version '20250624T204255Z-69a0e'</span></span>
<span><span class="co">#&gt; Writing to pin ''PRY_2023_EPHC_V01_M_V01_A_GMD_GPWG.qs''</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="old-version">Old version<a class="anchor" aria-label="anchor" href="#old-version"></a>
</h3>
<p>It is possible that, depending on the country and module, you may
need to access an older version of the data. In such cases, you can
specify the <code>veralt</code> argument to indicate which version you
want to download. For example, if you want to download the second
version of the Paraguay 2020 survey, you can do so as follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pry20_v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dlw_get_gmd.html">dlw_get_gmd</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"PRY"</span>, </span>
<span>                     year <span class="op">=</span> <span class="fl">2020</span>, </span>
<span>                     module <span class="op">=</span> <span class="st">"GPWG"</span>,</span>
<span>                     veralt <span class="op">=</span> <span class="st">"v02"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── dlw_get_data Calls ─────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Call 1:</span></span>
<span><span class="co">#&gt; dlw_get_data(</span></span>
<span><span class="co">#&gt;   country_code = "PRY",</span></span>
<span><span class="co">#&gt;   year = 2020L,</span></span>
<span><span class="co">#&gt;   server = "GMD",</span></span>
<span><span class="co">#&gt;   survey = "EPH",</span></span>
<span><span class="co">#&gt;   module = "GPWG",</span></span>
<span><span class="co">#&gt;   filename = "PRY_2020_EPH_V01_M_V02_A_GMD_GPWG.dta",</span></span>
<span><span class="co">#&gt;   collection = "GMD"</span></span>
<span><span class="co">#&gt; )</span></span>
<span><span class="co">#&gt; Creating new version '20250624T204257Z-f431d'</span></span>
<span><span class="co">#&gt; Writing to pin ''PRY_2020_EPH_V01_M_V02_A_GMD_GPWG.qs''</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by R.Andres Castaneda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
